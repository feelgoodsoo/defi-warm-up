<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/Bank.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> Bank.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/75</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/52</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/20</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/116</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.9;
&nbsp;
import "@openzeppelin/contracts/access/Ownable.sol";
import "./RewardToken.sol";
import "./RewardNft.sol";
import "hardhat/console.sol";
&nbsp;
contract Bank is Ownable {
    address rewardToken;
    address rewardNft;
    bool paused;
&nbsp;
    struct BankAccount {
        uint256 balance;
        uint256 claimedAt;
    }
&nbsp;
    uint256 public potMoney;
    mapping(address =&gt; BankAccount) public deposited;
    address[] depositedUserLists;
    mapping(address =&gt; bool) depositChecker;
&nbsp;
    mapping(address =&gt; BankAccount) public staked;
    address[] stakedUserLists;
    mapping(address =&gt; bool) stakeChecker;
&nbsp;
    mapping(address =&gt; bool) public blackLists;
&nbsp;
    mapping(address =&gt; bool) public nftHolders;
&nbsp;
    uint256 public leadersCount;
&nbsp;
    uint256 public untilSidecar;
&nbsp;
    string[] public nftTokenURIBundle = [
        "ipfs://sha256hashValue/sample1.json",
        "ipfs://sha256hashValue/sample2.json",
        "ipfs://sha256hashValue/sample3.json"
    ];
    uint public indexCountForNftMint = 0;
&nbsp;
    // 모든 이벤트 epoch time 추가
    event Deposit(address indexed user, uint256 amount, uint epoch);
    event Withdraw(address indexed user, uint256 amount, uint epoch);
    event ClaimInterest(
        address indexed user,
        uint256 reward,
        uint256 canSend,
        uint epoch
    );
&nbsp;
    event Stake(address indexed user, uint256 amount, uint epoch);
    event Unstake(address indexed user, uint256 amount, uint epoch);
    event ClaimReward(address indexed user, uint256 reward, uint epoch);
&nbsp;
<span class="fstat-no" title="function not covered" >    constructor(address rewardToken_, address rewardNft_) {</span>
        rewardToken = rewardToken_;
        rewardNft = rewardNft_;
    }
&nbsp;
    /**************
     * CORE FUNCS *
     **************/
&nbsp;
    /*
    - Amount(deposit balance)에 대해 초당 발생하는 이자 값을 return
    - **case1) amount &lt; 100 * 1e18
    - (0, 100%)와 (100 * 1e18, 50%)를 잇는 1차 함수에 의한 이율
        - 다음 포인트를 지난다. ⇒ (50 * 1e18, 0.75)
        50 * 1e18 개를 deposit 했을 경우, 75%의 이율을 얻는다고 할 수 있음
    
    - **case2) amount ≥ 100 * 1e18**
    - 항상 연 50%의 이율
    - 이자는 초 단위로 발생하며, 소수점 이하로 절삭되는 부분은 오차로 감안
    - 한 유저의 이자를 계산할 경우, 유저가 투자한 총 deposit balance에 대해서 이자 축적을 실시
    - 유저가 ‘시각 100초’에 50, ‘시각 200초’에 30을 투자했을 경우
        - 100초~200초: 50에 대한 이자 축적
        - 200초~현재: 80에 대한 이자 축적
    
    - 예시)
    - calcInterestPerSecond(100000000000000000000) = 1585489599188
     */
<span class="fstat-no" title="function not covered" >    function calcInterestPerSecond(</span>
        uint256 amount
    ) public pure returns (uint256) {
<span class="cstat-no" title="statement not covered" >        uint AnnualInterestAmount;</span>
        /* 
        case1)        
        기울기 = f(x + h) - f(x)/ (x+h) - x -&gt; 일차 함수 f(x)에 대하여 x좌표 a와 a+h 사이에서의 기울기 
        interest의 1차 함수의 기울기 grad == 50 - 100 / (100 * 1e18) - 0
        y = grad*x + 100. ** y절편 == 100, x는 deposit 수량, y는 이자율을 의미 
        */
<span class="cstat-no" title="statement not covered" >        if (amount &lt; 100 * 1e18) {</span>
<span class="cstat-no" title="statement not covered" >            int256 funcGrad = int(50 - 100) / (100 * 1e18);</span>
<span class="cstat-no" title="statement not covered" >            int256 AnnualInterestRate = int(funcGrad) * int(amount) + 100;</span> // -&gt; ex) 65, 75
            AnnualInterestAmount = (amount * uint(AnnualInterestRate)) / 100;
        }
        // case2)
        else <span class="cstat-no" title="statement not covered" >if (amount &gt;= 100 * 1e18) {</span>
            AnnualInterestAmount = amount / 2;
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        uint interestAmountPerSec = AnnualInterestAmount / (60 * 60 * 24 * 365);</span> // x/31536000
<span class="cstat-no" title="statement not covered" >        console.log("interestAmountPerSec: ", interestAmountPerSec)</span>;
<span class="cstat-no" title="statement not covered" >        return interestAmountPerSec;</span>
    }
&nbsp;
    /* 
    ETH 예치. claimInterest로 ETH 이자 수령. deposit 후 stake하면 ERC20 토큰으로 이자 지급.
    - 맡긴 **ETH**의 개수, 예치한 기간에 따라 얻게되는 이자(interest)의 양 변동됨
    - 쌓인 이자를 인출하는 방법으로는 claimReward 함수 이용 가능
    - deposit시 유저가 A개의 **ETH**를 맡길 경우, deposited[USER_ADDRESS].balance는 A만큼증가
&nbsp;
    - **deposit에 따른 rewardNft 보상**
    - deposit 한 유저가 총 10명 이상 있을 때(지금 deposit을 하고 있는 유저를 포함하여),
    deposit 액수 1위 유저에게 rewardNft를 mint해준다.
    - 이 때 해당 유저가 이미 rewardNft를 가지고 있따면 mint하지 않는다.
    - 예시)
        - 9명의 유저가 deposit을 하고 있음. user1, user2, user3, …, user9.
        - user10이 deposit을 하며, deposit 액수 순위 10위에 랭크될 경우,
            - user1에게 rewardNft가 지급됨
        - user10이 deposit을 하며, deposit 액수 순위 1위에 랭크될 경우,
            - user10에게 rewardNft가 지급됨
    */
<span class="fstat-no" title="function not covered" >    function deposit() external payable {</span>
        //Pause check
<span class="cstat-no" title="statement not covered" >        if (isNotPaused() &amp;&amp; block.timestamp &gt; untilSidecar) {</span>
<span class="cstat-no" title="statement not covered" >            if (!depositChecker[msg.sender]) {</span>
                depositChecker[msg.sender] = true;
<span class="cstat-no" title="statement not covered" >                depositedUserLists.push(msg.sender)</span>;
            }
<span class="cstat-no" title="statement not covered" >            claimInterest(msg.sender)</span>;
            deposited[msg.sender].balance += msg.value;
            deposited[msg.sender].claimedAt = block.timestamp;
<span class="cstat-no" title="statement not covered" >            emit Deposit(msg.sender, msg.value, block.timestamp);</span>
<span class="cstat-no" title="statement not covered" >            if (depositedUserLists.length &gt;= 10) {</span>
                //1순위 유저 조회
<span class="cstat-no" title="statement not covered" >                address[] memory rankOneUserArr;</span>
                (, rankOneUserArr) = sortDescending();
<span class="cstat-no" title="statement not covered" >                address rankOneUser = rankOneUserArr[0];</span>
&nbsp;
                //1순위 유저가 nft를 발급받지 않은 상황이라면(이미 민팅받았는지 체크)
<span class="cstat-no" title="statement not covered" >                if (!nftHolders[rankOneUser]) {</span>
                    /* nft를 발급해주는데 nft 목록(tokenURI)은 서비스 운영사에서 사전에 등록해놓았다고 가정한다. 
                    편의상 3개의 nft 데이터를 여러 유저들에게 중복하여 발급하도록 한다. 
                    */
<span class="cstat-no" title="statement not covered" >                    RewardNft(rewardNft).mint(</span>
                        msg.sender,
                        nftTokenURIBundle[indexCountForNftMint]
                    );
                    nftHolders[rankOneUser] = true;
                    indexCountForNftMint++;
                    indexCountForNftMint = indexCountForNftMint % 3;
                }
            }
        }
    }
&nbsp;
    /* ETH 인출
    - withdraw시 유저가 B개를 인출할 경우, deposited[USER_ADDRESS].balance가 B만큼 감소, 유저는 B개의 **ETH**를 수령
    - 유저가 모든 돈을 인출했을 경우 claimedAt은 0으로 초기화되도록 할 것
    */
<span class="fstat-no" title="function not covered" >    function withdraw(uint256 amount) external {</span>
<span class="cstat-no" title="statement not covered" >        if (</span>
            isNotPaused() &amp;&amp;
            blackLists[msg.sender] == false &amp;&amp;
            block.timestamp &gt; untilSidecar
        ) {
<span class="cstat-no" title="statement not covered" >            claimInterest(msg.sender)</span>;
            deposited[msg.sender].balance -= amount;
<span class="cstat-no" title="statement not covered" >            emit Withdraw(msg.sender, amount, block.timestamp);</span>
<span class="cstat-no" title="statement not covered" >            if (deposited[msg.sender].balance == 0) {</span>
                deposited[msg.sender].claimedAt = 0;
            }
        }
    }
&nbsp;
    /*
    - 유저가 deposit한 후 쌓이게 된 이자를 찾는 방법이며, 실행 시 유저는 쌓인 자신의 모든 이자를 흭득
    - 이자는 calcInterestPerSecond 함수의 계산 결과만큼 축적
    - 가령 유저가 ‘시각 200초’에 100 * 1e18개를 deposit 했고, ‘시각 250초’에 claimInterest를 실행할 경우,
        - calcInterestPerSecond(100*1e18) * 50 만큼의 이자 수령
        - 260초에 다시한번 claimInterest를 실행 한다면, calcInterestPerSecond(100*1e18) * 10 의 이자 수령
    - 이자는 **ETH**로 수령
    - 특수 조건
        - 유저가 deposit, withdraw 진행 시 claimInterest가 자동으로 처리되도록 구현 필요
        - 즉 deposit, withdraw 함수의 가장 첫 실행 부분에 이미 claimInterest가 내장되어 있는 구조로 구현
        - 가령 유저가 ‘시각 200초’에 100 * 1e18개를 deposit 했고, ‘시각 250초’에 deposit을 실행할 경우에도, 지난 50초 동안의 100 * 1e18 예치 물량에 해당하는 이자가 유저에게 자동으로 지급되어야 함
        - 유저의 deposit balance가 0.01개(uint256으로는 1e16) 미만일 경우에는 interest를 0개 지급 
        (실제로 이자를 지급한 것처럼 로직이 실행되나, 0개로 절삭된 것이라 볼 수 있음)
        구현 방식 -&gt; 첫번째 deposit에는 아무런 이자 지급이 없고 이후 deposit마다 지급됨. deposit시 claimedAt 참고 필요. 초단위 이자 산정 위해서.. 
    */
<span class="fstat-no" title="function not covered" >    function claimInterest(address user) public {</span>
<span class="cstat-no" title="statement not covered" >        if (isNotPaused() &amp;&amp; block.timestamp &gt; untilSidecar) {</span>
<span class="cstat-no" title="statement not covered" >            uint interestAmountPerSec = calcInterestPerSecond(</span>
                deposited[user].balance
            );
<span class="cstat-no" title="statement not covered" >            uint totalInterestAmount = interestAmountPerSec *</span>
                (block.timestamp - deposited[user].claimedAt); // / 1e18; // ethAmount
<span class="cstat-no" title="statement not covered" >            console.log("totalInterestAmount: ", totalInterestAmount)</span>;
<span class="cstat-no" title="statement not covered" >            uint canSend = ethTransfer(</span>
                payable(user),
                totalInterestAmount,
                true
            );
            //deposited[user].claimedAt = block.timestamp;
<span class="cstat-no" title="statement not covered" >            emit ClaimInterest(</span>
                user,
                totalInterestAmount,
                canSend,
                block.timestamp
            );
        }
    }
&nbsp;
    /*
    - 유저가 deposit한 물량에 대해서 추가적으로 ‘적금’할 수 있도록 하는 기능
    - 현재 유저의 deposit 물량이 A라면 (즉 deposited[USER_ADDRESS].blance=A), 최대 A만큼 stake 가능
    - 가령 유저의 deposit 물량이 100이고, 유저가 30개의 물량에 대해 stake를 실행할 시
        - deposit 물량은 70, stake 물량은 30
        - staked[USER_ADDRESS].balance에 30이 기록
    ** minimum staking 수량 설정 (1e16)
    */
<span class="fstat-no" title="function not covered" >    function stake(uint256 amount) external {</span>
<span class="cstat-no" title="statement not covered" >        if (isNotPaused()) {</span>
<span class="cstat-no" title="statement not covered" >            require(amount &gt;= 1e16, "insufficient amount")</span>;
<span class="cstat-no" title="statement not covered" >            claimReward(msg.sender)</span>;
            staked[msg.sender].claimedAt = block.timestamp;
            deposited[msg.sender].balance -= amount;
            staked[msg.sender].balance += amount;
<span class="cstat-no" title="statement not covered" >            emit Stake(msg.sender, amount, block.timestamp);</span>
        }
    }
&nbsp;
    /*
    - 유저가 적금(stake)한 물량에 대해, 다시 적금을 취소할 수 있는 기능
    - 예시
        - deposited[USER_ADDRESS].balance = 70
        staked[USER_ADDRESS].balance = 30
        - 만약 여기서 15를 unstake 한다면, 아래와 같이 상태가 변경
        - deposited[USER_ADDRESS].balance = 85
        staked[USER_ADDRESS].balance = 15
    - 적금의 경우, 유저가 적금의 리워드를 찾아간 적이 있다면(즉 claimReward 한 적이 있다면),
        - 리워드를 찾아간 시각으로부터 정확히 24시간 동안은 unstake 실행 불가(revert)
    */
<span class="fstat-no" title="function not covered" >    function unstake(uint256 amount) external {</span>
        // implements here
<span class="cstat-no" title="statement not covered" >        if (isNotPaused()) {</span>
<span class="cstat-no" title="statement not covered" >            require(</span>
                staked[msg.sender].claimedAt + (60 * 60 * 24) &lt; block.timestamp,
                "you can't unstake within 1day after you earn a reward"
            );
<span class="cstat-no" title="statement not covered" >            claimReward(msg.sender)</span>;
            deposited[msg.sender].balance += amount;
            staked[msg.sender].balance -= amount;
<span class="cstat-no" title="statement not covered" >            emit Unstake(msg.sender, amount, block.timestamp);</span>
        }
    }
&nbsp;
    /*
    - 유저가 적금(stake)한 양에 리워드가 추가되며, 리워드는 앞서 제작한 RewardToken을 mint하여 제공
    - 리워드의 양은 stake 물량의 연 200% 규모이나 decimal에 의한 차이점을 아래 예시에서 확인할 것
        - 만약 유저가 100*1e18를 stake 하였고, 1년이 경과하였다면 200*1e6개의 rewardToken을 수령
        - 만약 유저가 100*1e18를 stake 하였고, 0.5년이 경과하였다면 100*1e6개의 rewardToken을 수령
        - 유저가 stake하는 단위는 decimal 18 단위이나, reward token의 경우 decimal 6 단위라는 것을 확인할 것
        - 리워드는 초 단위로 계산
    - 특수 조건
        - 유저가 stake, unstake 할 때도, claimReward가 자동으로 처리되도록 구현 필요
        - stake, unstake 함수의 가장 첫 실행 부분에 이미 claimReward가 내장되어있는 구조로 구현
        - deposit, withdraw시 claimInterest가 자동으로 동작하는 것과 동일 원리
        - 유저의 staked balance가 0.01개(uint256으로는 1e16) 미만일 경우에는 reward를 0개 지급 
        (실제로 리워드를 지급한 것처럼 로직이 실행되나, 0개로 절삭된 것이라 볼 수 있음)
    */
<span class="fstat-no" title="function not covered" >    function claimReward(address user) public {</span>
<span class="cstat-no" title="statement not covered" >        uint stakedEth = staked[user].balance;</span> // ex) stakedEth = 1 * 1e16
        //console.log("stakedEth: ", stakedEth);
<span class="cstat-no" title="statement not covered" >        uint annualInterestAmount = (2 * stakedEth) / 1e12;</span>
        //console.log("annualInterestAmount: ", annualInterestAmount);
<span class="cstat-no" title="statement not covered" >        uint interestAmountPerSec = annualInterestAmount / (60 * 60 * 24 * 365);</span>
        //console.log("interestAmountPerSec: ", interestAmountPerSec);
<span class="cstat-no" title="statement not covered" >        uint totalInterestAmount = interestAmountPerSec *</span>
            (block.timestamp - staked[user].claimedAt);
<span class="cstat-no" title="statement not covered" >        console.log("totalInterestAmount: ", totalInterestAmount)</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (isNotPaused()) {</span>
<span class="cstat-no" title="statement not covered" >            RewardToken(payable(rewardToken)).mint(user, totalInterestAmount)</span>;
<span class="cstat-no" title="statement not covered" >            emit ClaimReward(user, totalInterestAmount, block.timestamp);</span>
        }
    }
&nbsp;
    /*
    - **ETH**를 넣고 potMoney가 증가하도록 구현
    - 함수 실행자가 100 **ETH**를 넣었다면 potMoney는 100이 증가
    - 이자는 **ETH**로 지급
    - 초기에는 컨트랙트가 가진 **ETH**가 없어 유저에게 이자 지급 불가하며, 이 때 관리자가 수동으로 **ETH**를 컨트랙트에 공급해야 하며 이 함수가 depositPotMoney
    - 유저가 얻는 intrest의 **ETH** 이자는 potMoney 내에서만 지급 될 수 있도록 제한 필요
    - 가령 유저가 흭득할 수 있는 이자가 100이고, 현재 potMoney가 50이라면, 유저는 50에 대해서만 획득 가능
        - event ClaimIntrest를 살펴보면 존재하는 canSend가 실제로 유저가 얻어가는 50을 의미
        - 좌측의 intrest에는 100이 기록
        - 이 때 potMoney는 50이 줄어 0으로 변경
        - 유저는 50의 이자를 손해보지만, 이에 대해서 보상 수령 불가
&nbsp;
        ** ethTransfer() 참고
    */
<span class="fstat-no" title="function not covered" >    function depositPotMoney() external payable {</span>
        // implements here
        potMoney += msg.value;
    }
&nbsp;
    /**************
     * VIEW FUNCS *
     **************/
&nbsp;
    // deposit한 유저들의 순위를 매겼을 때, 해당 user가 bottom 등 수 이내인지 확인
<span class="fstat-no" title="function not covered" >    function checkLeaderRankIn(</span>
        address user,
        uint256 bottom
    ) external view returns (bool) {
<span class="cstat-no" title="statement not covered" >        uint[] memory userRankBalances;</span>
<span class="cstat-no" title="statement not covered" >        address[] memory userRankAddresses;</span>
        (userRankBalances, userRankAddresses) = sortDescending();
<span class="cstat-no" title="statement not covered" >        if (deposited[user].balance &gt;= userRankBalances[bottom - 1]) {</span>
            //arr[0]이 1순위이므로 bottom-1로 순위 계산을 처리한다.
<span class="cstat-no" title="statement not covered" >            return true;</span>
        }
    }
&nbsp;
    /*
    - deposit 수량 순위 topN 명을 출력
    - 누적 deposit 양, deposit 기록을 기준으로 순위를 집계하는 것이 아닌 실제로 현재 deposit 한 수량을 가지고 순위를 구함
    - 유저 세명이 다음과 같이 예치했다면 userA 100, user B 50, user C 30, top3는 userA, userB, userC가 될 것
        - 이 때 userA가 80을 withdraw하면 3순위로 변경됨
    
    - deposit 수량 순으로 내림차순 정렬되어 있어야 하며, 같은 수량을 가진 유저들의 순위는 자율 구현
    - address[] memory users_
        - topN명의 usre address 목록
    - uint256[] memory amounts_
        - topN명의 usre deposit 수량 리스트
    - topN 명을 지원하는 수준에 따라 점수가 차등 배정
        - top 10명을 올바르게 보여줄 경우
        - top 32명을 올바르게 보여줄 경우
        - top 128명을 올바르게 보여줄 경우
        - top 256명을 올바르게 보여줄 경우
    */
<span class="fstat-no" title="function not covered" >    function showLeaders(</span>
        uint256 topN
    )
        external
        view
        returns (address[] memory users_, uint256[] memory amounts_)
    {
<span class="cstat-no" title="statement not covered" >        require(topN &lt;= DepositUserNum(), "out of range")</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >        address[] memory userRankAddresses;</span>
<span class="cstat-no" title="statement not covered" >        uint[] memory userRankBalances;</span>
        (userRankBalances, userRankAddresses) = sortDescending();
        // 모두 가져오는 요청이면 slicing용 재복사 없이 바로 리턴
<span class="cstat-no" title="statement not covered" >        if (topN == DepositUserNum()) {</span>
            users_ = userRankAddresses;
            amounts_ = userRankBalances;
        } else {
            users_ = new address[](topN);
            amounts_ = new uint256[](topN);
<span class="cstat-no" title="statement not covered" >            for (uint i = 0; i &lt; topN; i++) {</span>
                users_[i] = userRankAddresses[i];
                amounts_[i] = userRankBalances[i];
            }
        }
<span class="cstat-no" title="statement not covered" >        return (users_, amounts_);</span>
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function sortDescending()</span>
        public
        view
        returns (
            uint[] memory depositedBalancesArr,
            address[] memory depositedUsersArr
        )
    {
        depositedUsersArr = depositedUserLists;
        depositedBalancesArr = new uint[](depositedUsersArr.length);
&nbsp;
        // deposit한 유저들의 주소와 수량을 세팅한다
<span class="cstat-no" title="statement not covered" >        for (uint i = 0; i &lt; depositedUsersArr.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            address currentUser = depositedUsersArr[i];</span>
            depositedBalancesArr[i] = deposited[currentUser].balance;
        }
&nbsp;
        // 내림차순으로 정렬한다
<span class="cstat-no" title="statement not covered" >        uint length = depositedBalancesArr.length;</span>
<span class="cstat-no" title="statement not covered" >        for (uint i = 1; i &lt; length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            uint key = depositedBalancesArr[i];</span>
<span class="cstat-no" title="statement not covered" >            int j = int(i) - 1;</span>
<span class="cstat-no" title="statement not covered" >            while ((int(j) &gt;= 0) &amp;&amp; (depositedBalancesArr[uint(j)] &lt; key)) {</span>
                depositedBalancesArr[uint(j + 1)] = depositedBalancesArr[
                    uint(j)
                ];
<span class="cstat-no" title="statement not covered" >                address tempAddr = depositedUsersArr[uint(j + 1)];</span>
                depositedUsersArr[uint(j + 1)] = depositedUsersArr[uint(j)];
                depositedUsersArr[uint(j)] = tempAddr;
                j--;
            }
            depositedBalancesArr[uint(j + 1)] = key;
        }
<span class="cstat-no" title="statement not covered" >        return (depositedBalancesArr, depositedUsersArr);</span>
    }
&nbsp;
    // 유저가 depoist한 수량, stake한 수량 반환
<span class="fstat-no" title="function not covered" >    function getUserBalance(</span>
        address user
    ) external view returns (uint256 depositBalance, uint256 stakeBalance) {
        depositBalance = deposited[user].balance;
        stakeBalance = staked[user].balance;
&nbsp;
<span class="cstat-no" title="statement not covered" >        return (depositBalance, stakeBalance);</span>
    }
&nbsp;
    /**********
     * ADMINS *
     **********/
&nbsp;
    /*
    - 관리자 전용 함, ownable을 구현하여 onlyOwner를 적용
    - 관리자는 직접 potMoney를 인출해 ETH를 흭득
    */
<span class="fstat-no" title="function not covered" >    function withdrawPotMoney(uint256 amount) external onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        ethTransfer(payable(msg.sender), amount, false)</span>;
    }
&nbsp;
    // 이자 지급은 potMoney 범위 내에서만
<span class="fstat-no" title="function not covered" >    function ethTransfer(</span>
        address payable _to,
        uint _amount,
        bool isInterestPayment
    ) internal returns (uint) {
<span class="cstat-no" title="statement not covered" >        if (isInterestPayment) {</span>
            //potMoney가 이자 지급액보다 적으면 eth 지급액, potMoney 차감액을 변경한다
<span class="cstat-no" title="statement not covered" >            if (potMoney &lt; _amount) {</span>
                _amount = potMoney;
            }
            potMoney -= _amount;
            // Note that "to" is declared as payable
        }
<span class="cstat-no" title="statement not covered" >        (bool success, ) = _to.call{value: _amount}("");</span>
<span class="cstat-no" title="statement not covered" >        if (success) {</span>
<span class="cstat-no" title="statement not covered" >            return _amount;</span> // 지급액 리턴
        }
    }
&nbsp;
    /*
    - 관리자 전용 함수 ownable을 구현하여 onlyOwner를 적용
    - sidecar를 N초 동안 발동(최대 3시간)
    - sidecar가 발동되는 시각은 untilSidecar에 기록
    - 즉 untilSidecar까지 sidecar가 발동되는 것이며, 단위는 timestamp(seconds)
    - sidecar가 발동되면, deposit, withdraw, claimInterest 함수는 실행 불가
    */
<span class="fstat-no" title="function not covered" >    function invokeSidecar(uint256 secs) external onlyOwner {</span>
        // implements here
        // 3hours = 60 sec * 60 * 3
<span class="cstat-no" title="statement not covered" >        uint maxSec = 60 * 60 * 3;</span>
<span class="cstat-no" title="statement not covered" >        require(secs &lt; maxSec, "you need to set secs within 3hours")</span>;
        untilSidecar = block.timestamp + secs;
    }
&nbsp;
    /*
    - 관리자 전용 함수, ownable을 구현하여 onlyOwner를 적용
    - black list로 지정된 유저는 withdraw 불가
    */
<span class="fstat-no" title="function not covered" >    function setBlacklist(address user, bool status) external onlyOwner {</span>
        blackLists[user] = status;
    }
&nbsp;
    /*
    - 관리자 전용 함수,ownable을 구현하여 onlyOwner를 적용
    - pause 발동 시, 다음 함수들은 실행 불가
    - depoist, withdraw, claimIntrest, stake, unstake, claimReward (notion에 claimInterest라고 표기되어있으나 Reward라고 인지하겠습니다)
    - pause를 다시 실행할 시 unpause  (토글방식)
    */
<span class="fstat-no" title="function not covered" >    function pause() external onlyOwner {</span>
        paused = !paused;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function isNotPaused() public view returns (bool) {</span>
<span class="cstat-no" title="statement not covered" >        if (paused == false) {</span>
<span class="cstat-no" title="statement not covered" >            return true;</span>
        }
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function DepositUserNum() public view returns (uint) {</span>
<span class="cstat-no" title="statement not covered" >        return depositedUserLists.length;</span>
    }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Sep 01 2023 21:06:51 GMT+0900 (Korean Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
